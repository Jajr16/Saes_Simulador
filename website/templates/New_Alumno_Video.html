{% extends "base_log.html" %}

{% load static %}
{% block centercontainer %}
<center style="font-weight:bold; padding: 1rem 0;">Registrar Nuevo Alumno <br></center>
    <div class="table-container table-responsive">
        <div class="center">
            {% if form.errors %}
                <div class="alert alert-danger" style="color: red; font-size: 15px" align="right">
                    <ul class="mb-0">
                        {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                                <li>{{ field|title }}: {{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            
            {% if message %}
                {% if Error %}
                    <div style="text-align: center; color: red; font-size: 15px">
                        {{ message }}
                    </div>
                {% else %}
                    <div style="text-align: center">
                        {{ message }}
                    </div>
                {% endif %}
            {% endif %}

            <form action="{% url 'nvalumno' %}" method="POST" enctype="multipart/form-data" class="login-form" id="form-alumno">
                {% csrf_token %}
                <div class="contenedor_campos">
                    <div class="CampoFoto">
                        <img src="{% static 'img/foto.jpg' %}" class="fotoperfil" alt="Logo IPN">
                        <video id="camara" autoplay style="display:none;"></video>
                        <div id="captura-btn">Activar cámara</div>
                        <div id="grabar-btn" style="display:none;">Iniciar Grabación</div>
                        <canvas id="foto" style="display:none;"></canvas>
                        <input type="file" id="video-file" name="video-file" style="display:none;">
                        <input type="file" id="foto-file" name="foto-file" style="display:none;">
                    </div>
                    <div class="formulario">
                        <div class="form-group">
                            <label for="Boleta">Boleta:</label>
                            {{ form.boleta }}
                        </div>
                        <div class="form-group">
                            <label for="curp">CURP:</label>
                            {{ form.curp }}
                        </div>
                    </div>
                </div>
                <button type="submit" id="ctl00_leftColumn_LoginUser_LoginButton">Guardar</button>
            </form>
        </div>
    </div>
    <script src="{% static 'js/camera_access.js' %}"></script>
    <script src="{% static 'js/pacademico.js' %}"></script>
    <link rel="stylesheet" href="{% static 'css/ETS.css' %}">
    <link rel="stylesheet" href="{% static 'css/alumno.css' %}">
{% endblock centercontainer %}
